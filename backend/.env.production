# ============================================
# 鑫琳医生 - 生产环境配置模板
# ============================================
# 部署前请修改所有标记为 [需修改] 的配置项
# 此文件不应提交到代码仓库

# --------------------------------------------
# 应用配置
# --------------------------------------------
APP_NAME=鑫琳医生 API
APP_VERSION=2.0.0
DEBUG=false
SEED_DATA=false

# --------------------------------------------
# 数据库配置 (PostgreSQL)
# --------------------------------------------
# Docker 内部网络使用 postgres:5432
DATABASE_URL=postgresql+psycopg://xinlin_prod:[需修改密码]@postgres:5432/xinlin_prod

# --------------------------------------------
# JWT 认证配置
# --------------------------------------------
# [需修改] 请生成强随机密钥（至少32位）
JWT_SECRET_KEY=[需修改-生成强随机密钥]
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=480
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Admin JWT 配置
ADMIN_JWT_SECRET=[需修改-生成另一个强随机密钥]
ADMIN_JWT_EXPIRE_HOURS=24

# --------------------------------------------
# CORS 配置
# --------------------------------------------
# 生产环境允许的前端域名（逗号分隔）
# 示例: http://123.206.232.231,https://yourdomain.com
CORS_ALLOWED_ORIGINS=http://123.206.232.231

# --------------------------------------------
# 测试模式
# --------------------------------------------
TEST_MODE=false
ENABLE_SMS_VERIFICATION=true

# --------------------------------------------
# LLM 配置 (阿里云通义千问)
# --------------------------------------------
LLM_PROVIDER=qwen
LLM_MODEL=qwen-plus
LLM_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
LLM_API_KEY=[需修改-填入阿里云API密钥]
LLM_TEMPERATURE=0.7
LLM_MAX_TOKENS=2000

# Qwen-VL 多模态配置（皮肤科智能体使用）
QWEN_VL_MODEL=qwen3-vl-plus

# --------------------------------------------
# 短信服务配置 (阿里云)
# --------------------------------------------
SMS_PROVIDER=aliyun
SMS_ACCESS_KEY_ID=[需修改-填入阿里云AccessKey ID]
SMS_ACCESS_KEY_SECRET=[需修改-填入阿里云AccessKey Secret]
SMS_SIGN_NAME=鑫琳医生
SMS_TEMPLATE_CODE=[需修改-填入短信模板代码]

# --------------------------------------------
# 文件上传配置
# --------------------------------------------
MAX_UPLOAD_SIZE=10485760  # 10MB
UPLOAD_DIR=/app/uploads

# --------------------------------------------
# 监控和日志
# --------------------------------------------
LOG_LEVEL=INFO
OTEL_SDK_DISABLED=true

# --------------------------------------------
# 安全配置
# --------------------------------------------
# 会话超时时间（分钟）
SESSION_TIMEOUT_MINUTES=30

# 最大登录尝试次数
MAX_LOGIN_ATTEMPTS=5

# 账户锁定时间（分钟）
ACCOUNT_LOCK_MINUTES=15

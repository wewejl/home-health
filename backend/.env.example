# ============================================
# 鑫琳医生 - 环境配置模板
# ============================================
# 复制此文件为 .env 或 .env.local 并填写实际配置

# --------------------------------------------
# 应用配置
# --------------------------------------------
APP_NAME=鑫琳医生 API
APP_VERSION=2.0.0
DEBUG=true
SEED_DATA=true

# --------------------------------------------
# 数据库配置
# --------------------------------------------
# Docker 内部网络使用 postgres:5432
# 本地开发可使用 localhost:5432 或 SQLite
DATABASE_URL=postgresql+psycopg://xinlin_prod:your_password@postgres:5432/xinlin_prod
# SQLite 配置 (仅开发环境)
# DATABASE_URL=sqlite:///./app.db

# --------------------------------------------
# JWT 认证配置
# --------------------------------------------
# 生产环境请使用强随机密钥（至少32位）
JWT_SECRET_KEY=your-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=480
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Admin JWT 配置
ADMIN_JWT_SECRET=admin-secret-key-change-in-production
ADMIN_JWT_EXPIRE_HOURS=24

# --------------------------------------------
# CORS 配置
# --------------------------------------------
# 开发环境: 留空表示允许所有来源
# 生产环境: 指定允许的域名（逗号分隔）
# CORS_ALLOWED_ORIGINS=http://localhost:5173,http://123.206.232.231

# --------------------------------------------
# 测试模式
# --------------------------------------------
# true 时验证码 000000 始终有效
TEST_MODE=true

# 验证码功能开关
ENABLE_SMS_VERIFICATION=false

# --------------------------------------------
# LLM 配置 (阿里云通义千问)
# --------------------------------------------
LLM_PROVIDER=qwen
LLM_MODEL=qwen-plus
LLM_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
LLM_API_KEY=your-qwen-api-key
LLM_TEMPERATURE=0.7
LLM_MAX_TOKENS=2000

# Qwen-VL 多模态配置（皮肤科智能体使用）
# 可选模型: qwen3-vl-plus, qwen-vl-plus, qwen-vl-max
QWEN_VL_MODEL=qwen3-vl-plus

# --------------------------------------------
# 短信服务配置
# --------------------------------------------
# SMS_PROVIDER=aliyun  # aliyun/tencent/qiniu
# SMS_ACCESS_KEY_ID=your-access-key-id
# SMS_ACCESS_KEY_SECRET=your-access-key-secret
# SMS_SIGN_NAME=鑫琳医生
# SMS_TEMPLATE_CODE=SMS_123456789

# --------------------------------------------
# 文件上传配置
# --------------------------------------------
MAX_UPLOAD_SIZE=10485760  # 10MB
UPLOAD_DIR=/app/uploads

# --------------------------------------------
# 监控和日志
# --------------------------------------------
LOG_LEVEL=DEBUG
OTEL_SDK_DISABLED=true

# --------------------------------------------
# 安全配置
# --------------------------------------------
# 会话超时时间（分钟）
SESSION_TIMEOUT_MINUTES=30

# 最大登录尝试次数
MAX_LOGIN_ATTEMPTS=5

# 账户锁定时间（分钟）
ACCOUNT_LOCK_MINUTES=15